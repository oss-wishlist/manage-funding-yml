# Workflow template for oss-wishlist/wishlists repository
# Copy this to: .github/workflows/manage-funding-yml.yml

name: Manage FUNDING.yml

on:
  issues:
    types: [opened, labeled]

jobs:
  create-funding-pr:
    # Only run for issues with the 'funding-yml-requested' label
    if: contains(github.event.issue.labels.*.name, 'funding-yml-requested')
    runs-on: ubuntu-latest
    
    permissions:
      issues: write        # To add labels and comments to wishlists issues
      contents: read       # To read repository content
      
    steps:
      - name: Manage FUNDING.yml
        uses: oss-wishlist/manage-funding-yml@v1
        with:
          # IMPORTANT: Use a PAT with 'public_repo' scope stored in secrets
          # The default GITHUB_TOKEN cannot create PRs in other repositories
          github-token: ${{ secrets.WISHLIST_BOT_TOKEN }}
